---
const { videoSrc } = Astro.props;
---

<div class="video-background fixed inset-0 w-full h-full -z-10 overflow-hidden">
  {
    videoSrc ? (
      <video autoplay muted loop playsinline class="absolute inset-0 w-full h-full object-cover">
        <source src={videoSrc} type="video/mp4" />
      </video>
    ) : (
      <div class="animated-gradient absolute inset-0 w-full h-full" />
    )
  }
  <div class="absolute inset-0 bg-dark/40"></div>
</div>

<style>
  .animated-gradient {
    background: linear-gradient(
      -45deg,
      #0f172a,
      #1e293b,
      #0c4a6e,
      #1e1b4b,
      #312e81,
      #0f172a
    );
    background-size: 400% 400%;
    animation: gradientMove 20s ease infinite;
  }

  @keyframes gradientMove {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }
</style>
